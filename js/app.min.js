(()=>{"use strict";class e{constructor(){this.selectedAnswer=null,this.currentQuestion=0,this.correctAnswers=0,this.totalAttempts=0,this.totalQuestions=0,this.maxAttempts=2,this.remainingAttempts=this.maxAttempts,this.questions=[{word:'"Алгоритм"',question:"Выберите правильное определение:",answers:[{text:"Последовательность команд, которые должен выполнить компьютер",correct:!0},{text:"Устройство для вывода данных в компьютер",correct:!1}]},{word:'"Программа"',question:"Выберите правильное определение:",answers:[{text:"Устройство ввода информации",correct:!1},{text:"Набор инструкций для выполнения компьютером",correct:!0}]},{word:'"Жесткий диск"',question:"Выберите правильное определение:",answers:[{text:"Устройство для хранения данных в компьютере",correct:!0},{text:"Программа для создания документов",correct:!1}]},{word:'"Оперативная память"',question:"Выберите правильное определение:",answers:[{text:"Временная память для работы запущенных программ",correct:!0},{text:"Постоянное хранилище для файлов и документов",correct:!1}]},{word:'"Процессор"',question:"Выберите правильное определение:",answers:[{text:"Устройство для отображения графики на экране",correct:!1},{text:"Основной вычислительный компонент компьютера",correct:!0}]},{word:'"Браузер"',question:"Выберите правильное определение:",answers:[{text:"Программа для просмотра веб-страниц в интернете",correct:!0},{text:"Антивирусная программа для защиты компьютера",correct:!1}]},{word:'"Файл"',question:"Выберите правильное определение:",answers:[{text:"Физическое устройство для подключения к интернету",correct:!1},{text:"Именованная область данных на носителе информации",correct:!0}]},{word:'"Графический редактор"',question:"Выберите правильное определение:",answers:[{text:"Устройство для сканирования документов",correct:!1},{text:"Программа для создания и редактирования изображений",correct:!0}]},{word:'"Интерфейс"',question:"Выберите правильное определение:",answers:[{text:"Средство взаимодействия пользователя с программой",correct:!0},{text:"Внутреннее устройство системного блока",correct:!1}]},{word:'"Библиотека"',question:"Выберите правильное определение:",answers:[{text:"Набор готовых программных компонентов для использования",correct:!0},{text:"Специальный каталог для хранения книг на компьютере",correct:!1}]}],this.totalQuestions=this.questions.length,this.exerciseContent=document.getElementById("exercise-content"),this.exerciseResults=document.getElementById("exercise-results"),this.resultsCorrect=document.getElementById("results-correct"),this.resultsTotal=document.getElementById("results-total"),this.resultsPercentage=document.getElementById("results-percentage"),this.init()}init(){this.bindEvents(),this.updateProgress()}bindEvents(){const e=document.querySelector(".exercise__submit");e&&e.addEventListener("click",e=>{e.preventDefault(),this.checkAnswer()}),document.querySelectorAll(".answers__answer").forEach((e,t)=>{e.addEventListener("click",e=>{e.preventDefault(),this.selectAnswer(t)})});const t=document.querySelector(".exercise__restart");t&&t.addEventListener("click",e=>{e.preventDefault(),this.restartExercise()})}selectAnswer(e){document.querySelectorAll(".answers__answer").forEach(e=>{e.classList.remove("selected")});const t=document.querySelectorAll(".answers__answer");t[e]&&(t[e].classList.add("selected"),this.selectedAnswer=e)}checkAnswer(){if(null===this.selectedAnswer)return;const e=this.questions[this.currentQuestion].answers.findIndex(e=>e.correct),t=this.selectedAnswer===e,s=document.querySelectorAll(".answers__answer");t?(s[this.selectedAnswer].classList.add("correct"),this.correctAnswers++,this.disableAnswers(),setTimeout(()=>{this.nextQuestion()},1e3)):(s[this.selectedAnswer].classList.add("incorrect"),s[e].classList.add("correct"),this.remainingAttempts--,this.totalAttempts++,this.disableAnswers(),setTimeout(()=>{this.remainingAttempts>0?this.resetCurrentQuestion():this.showResults()},1500)),this.updateProgress()}resetCurrentQuestion(){document.querySelectorAll(".answers__answer").forEach(e=>{e.classList.remove("selected","correct","incorrect");const t=e.querySelector(".answers__radio");t&&(t.checked=!1)}),this.enableAnswers(),this.selectedAnswer=null,this.updateProgress()}disableAnswers(){document.querySelectorAll(".answers__answer").forEach(e=>{e.style.pointerEvents="none"})}enableAnswers(){document.querySelectorAll(".answers__answer").forEach(e=>{e.style.pointerEvents="auto"})}nextQuestion(){this.currentQuestion++,this.correctAnswers<this.totalQuestions?this.loadQuestion():this.showResults(),this.updateProgress()}loadQuestion(){const e=this.questions[this.currentQuestion];document.querySelector(".exercise__word").textContent=e.word,document.querySelector(".exercise__question").textContent=e.question;const t=document.querySelector(".exercise__answers");t.innerHTML="",e.answers.forEach((e,s)=>{const n=document.createElement("label");n.className="answers__answer",n.innerHTML=`\n                <input type="radio" name="definition" value="${s+1}" class="answers__radio">\n                <span class="answers__bullet">${String.fromCharCode(65+s)}</span>\n                <p>${e.text}</p>\n            `,n.addEventListener("click",()=>{this.selectAnswer(s)}),t.appendChild(n)}),this.enableAnswers(),this.selectedAnswer=null}updateProgress(){const e=this.correctAnswers/this.totalQuestions*100,t=document.querySelector(".progress-fill");t&&(t.style.width=e+"%");const s=document.getElementById("status-correct"),n=document.getElementById("status-attempts"),r=document.getElementById("status-remaining");s&&(s.textContent=this.correctAnswers),n&&(n.textContent=this.totalAttempts),r&&(r.textContent=this.remainingAttempts)}showResults(){this.resultsCorrect.textContent=this.correctAnswers,this.resultsTotal.textContent=this.totalQuestions,this.resultsPercentage.textContent=`${Math.round(this.correctAnswers/this.totalQuestions*100)}%`,document.querySelector(".exercise__header").classList.add("hidden"),this.exerciseContent.classList.add("hidden"),this.exerciseResults.classList.add("visible")}restartExercise(){this.currentQuestion=0,this.correctAnswers=0,this.totalAttempts=0,this.remainingAttempts=this.maxAttempts,this.selectedAnswer=null,document.querySelectorAll(".answers__answer").forEach(e=>{e.classList.remove("selected","correct","incorrect")}),document.querySelector(".exercise__header").classList.remove("hidden"),this.exerciseContent.classList.remove("hidden"),this.exerciseResults.classList.remove("visible"),this.loadQuestion(),this.updateProgress()}}class t{constructor(){this.currentPage="download-page",this.init()}init(){document.querySelectorAll(".navigation__link[data-page]").forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const s=e.getAttribute("data-page");this.navigateTo(s,e)})}),document.addEventListener("click",e=>{e.target&&"submit-btn"===e.target.id&&(e.preventDefault(),this.showResultPage())}),this.showPage(this.currentPage),this.initTooltips(),this.initSearch(),this.initExercise()}initSearch(){const e=document.querySelector(".search__form");if(e){e.addEventListener("submit",e=>{e.preventDefault(),this.performSearch()});const t=document.querySelector(".search__button");t&&t.addEventListener("click",e=>{e.preventDefault(),this.performSearch()})}}initExercise(){const t=document.getElementById("exercise-page");t&&t.classList.contains("active")&&(this.exerciseManager=new e),this.exerciseObserver=new MutationObserver(t=>{t.forEach(t=>{if("attributes"===t.type&&"class"===t.attributeName){const s=t.target.classList.contains("active"),n=t.oldValue&&t.oldValue.includes("active");s&&!n&&"exercise-page"===t.target.id&&(this.exerciseManager=new e)}})}),document.querySelectorAll(".page").forEach(e=>{this.exerciseObserver.observe(e,{attributes:!0,attributeFilter:["class"],attributeOldValue:!0})})}performSearch(){const e=document.querySelector(".search__field");if(!e)return;const t=e.value.trim().toLowerCase(),s=document.querySelector(".dictionary"),n=document.querySelectorAll(".dictionary__row"),r=document.querySelector(".dictionary__header");document.querySelectorAll(".no-results__row").forEach(e=>e.remove());let i=!1;for(let e=0;e<n.length;e++){const s=n[e],r=s.querySelector(".dictionary__column:first-child");if(!s.classList.contains("dictionary__header")&&!s.classList.contains("no-results__row")&&r){const e=r.textContent.toLowerCase();""===t||e.includes(t)?(s.style.display="",i=!0):s.style.display="none"}}""!==t&&!i&&s&&this.showNoResultsMessage(s),r&&(r.style.display=i||""===t?"grid":"none"),this.showSearchMessage(t)}showNoResultsMessage(e){document.querySelectorAll(".no-results__row").forEach(e=>e.remove());const t=document.createElement("div");t.className="dictionary__row no-results__row",t.innerHTML='\n            <div class="dictionary__column no-results__column">\n                <div class="no-results__content">\n                    <h3>Ничего не найдено</h3>\n                    <p>Попробуйте изменить поисковый запрос</p>\n                </div>\n            </div>\n        ',e.appendChild(t)}showSearchMessage(e){const t=document.querySelectorAll('.dictionary__row[style=""]');document.querySelectorAll('.dictionary__row[style="none"]'),console.log(`Найдено: ${t.length-1} совпадений`)}navigateTo(e,t=null){e!==this.currentPage&&(this.updateNavigation(e,t),this.hideCurrentPage(()=>{this.showPage(e),this.currentPage=e}))}hideCurrentPage(e){const t=document.querySelector(".page.active");t?(t.style.opacity="0",setTimeout(()=>{t.classList.remove("active"),e()},300)):e()}showPage(e){const t=document.getElementById(e);t&&(t.classList.add("active"),setTimeout(()=>{t.style.opacity="1"},10))}updateNavigation(e,t=null){if(document.querySelectorAll(".navigation__link").forEach(e=>e.classList.remove("active")),t)t.classList.add("active");else{const t=document.querySelector(`[data-page="${e}"]`);t&&t.classList.add("active")}}showResultPage(){this.navigateTo("result-page")}initTooltips(){const e={interface:{title:"интерфейс",definition:"Средство взаимодействия пользователя с системой",synonyms:["оболочка","среда взаимодействия"]},reliability:{title:"достоверность",definition:"Свойство информации, вызывающее уверенность в ее истинности",synonyms:["надежность","правдивость"]},optimize:{title:"оптимизировать",definition:"Изменять систему для улучшения ее эффективности",synonyms:["улучшить","рационализировать"]}},t=document.querySelector(".result__text");let s=null;t&&(t.addEventListener("mouseover",t=>{const n=t.target.closest("[data-tooltip]");if(!n)return;s&&s.remove();const r=n.dataset.tooltip,i=e[r];if(!i)return;const o=document.createElement("div");o.className="custom-tooltip",o.innerHTML=function(e){const t=e.synonyms.map(e=>`<span class="tooltip-synonym">${e}</span>`).join("");return`\n                <div class="tooltip-title">${e.title}</div>\n                <div class="tooltip-definition">${e.definition}</div>\n                <div class="tooltip-synonyms-container">\n                    <span class="synonyms-label">Синонимы:</span>\n                    ${t}\n                </div>\n            `}(i),document.body.appendChild(o),s=o;const c=n.getBoundingClientRect();o.style.left=`${c.left}px`,o.style.top=`${c.bottom+window.scrollY+8}px`,setTimeout(()=>{o.classList.add("visible")},10)}),t.addEventListener("mouseout",e=>{e.target.closest("[data-tooltip]")&&s&&(s.remove(),s=null)}),document.addEventListener("click",()=>{s&&(s.remove(),s=null)}))}}document.addEventListener("DOMContentLoaded",()=>{new t});const s=document.getElementById("login-form"),n=document.getElementById("register-form"),r=document.getElementById("show-register-form"),i=document.getElementById("show-login-form"),o="admin@gmail.com",c="12345",a="admin.html",l="user.html";function d(){s.classList.remove("hidden"),n.classList.add("hidden")}const u=document.getElementById("submit-btn");u&&u.addEventListener("click",function(e){e.preventDefault();const t=document.getElementById("login-email").value,s=document.getElementById("login-password").value;window.location.href=t===o&&s===c?a:l}),i.addEventListener("click",d),r.addEventListener("click",function(){s.classList.add("hidden"),n.classList.remove("hidden")}),d()})();